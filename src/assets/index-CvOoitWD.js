import{_ as h}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{_ as k}from"./index.vue_vue_type_style_index_0_lang-ocAHgIx2.js";import{u as D}from"./useHandleData-CjGr2aYO.js";import{u as C}from"./useDownload-B8WTrn39.js";import{d as A,v as y,Q as x,r as M,o as N,b as o,c as Y,e as B,f as n,w as t,g as E,l as d,t as u}from"./index-Xku4Yv_8.js";import{s as H}from"./simulation-C2GBFQc4.js";import{a as T,b as V}from"./antenna-eLm4p05c.js";import{_ as I}from"./lodash-C7R_B3uJ.js";import{u as L}from"./index-tRiLkRmM.js";const R={class:"app-scene-carrier-antenna flex flex-auto flex-column pl20 pr20"},S={class:"flex-auto mt20"},U=A({__name:"index",setup(j){const{t:s}=y.useI18n(),f=x(),p=M([]);N(()=>{r()});const b=(e,a)=>{f.push(`/scene/carrier/antennaModel/${e}/${a}`)},r=async()=>{const{data:e}=await H();I(e).forEach(a=>{let c=L(a.createTime*1e3,"YYYY-MM-DD HH:mm:ss");a.date=c.value}),p.value=e},$=async e=>{await D(s,T,{...e},`${s("btn.delete")}${s("btn.file")}【${e.name}】`),r()},w=async e=>{C(V,e,{fileName:e})};return(e,a)=>{const c=o("el-col"),g=o("el-row"),l=o("el-table-column"),i=o("el-button"),v=o("el-table");return Y(),B("div",R,[n(h,{class:"mb20",label:"importAntennaModel"}),n(g,{gutter:20},{default:t(()=>[n(c,{span:12},{default:t(()=>[n(k,{url:"/api/gnss/sim/setting/antenna/upload/csv",onOnSuccess:r})]),_:1})]),_:1}),E("div",S,[n(v,{class:"h100",data:p.value,border:"",stripe:""},{default:t(()=>[n(l,{type:"index",align:"center",label:e.$t("table.common.index"),width:"60"},null,8,["label"]),n(l,{prop:"name",align:"center",label:e.$t("table.common.filename")},null,8,["label"]),n(l,{prop:"date",align:"center",label:e.$t("table.common.createTime")},null,8,["label"]),n(l,{align:"center",label:e.$t("table.common.operation")},{default:t(m=>[n(i,{link:"",color:"#000",onClick:_=>b("detail",m.row.name)},{default:t(()=>[d(u(e.$t("btn.detail")),1)]),_:2},1032,["onClick"]),n(i,{link:"",color:"#000",onClick:_=>w(m.row.name)},{default:t(()=>[d(u(e.$t("btn.download")),1)]),_:2},1032,["onClick"]),n(i,{link:"",type:"danger",onClick:_=>$(m.row)},{default:t(()=>[d(u(e.$t("btn.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])}}});export{U as default};
