import{a as w,t as v,b as A,i as q}from"./index-tRiLkRmM.js";import{r as c,B as b}from"./index-Xku4Yv_8.js";const x=q?window:void 0;function F(r,u={}){const{immediate:o=!0,fpsLimit:n=void 0,window:e=x}=u,t=c(!1),s=n?1e3/n:null;let a=0,i=null;function l(m){if(!t.value||!e)return;a||(a=m);const p=m-a;if(s&&p<s){i=e.requestAnimationFrame(l);return}a=m,r({delta:p,timestamp:m}),i=e.requestAnimationFrame(l)}function f(){!t.value&&e&&(t.value=!0,a=0,i=e.requestAnimationFrame(l))}function d(){t.value=!1,i!=null&&e&&(e.cancelAnimationFrame(i),i=null)}return o&&f(),A(d),{isActive:b(t),pause:d,resume:f}}function y(r={}){const{controls:u=!1,interval:o="requestAnimationFrame"}=r,n=c(new Date),e=()=>n.value=new Date,t=o==="requestAnimationFrame"?F(e,{immediate:!0}):w(e,o,{immediate:!0});return u?{now:n,...t}:n}function I(r={}){const{controls:u=!1,offset:o=0,immediate:n=!0,interval:e="requestAnimationFrame",callback:t}=r,s=c(v()+o),a=()=>s.value=v()+o,i=t?()=>{a(),t(s.value)}:a,l=e==="requestAnimationFrame"?F(i,{immediate:n}):w(i,e,{immediate:n});return u?{timestamp:s,...l}:s}export{y as a,I as u};
