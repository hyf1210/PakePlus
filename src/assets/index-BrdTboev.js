import{d as S,v as H,r as b,o as E,m as r,a as A,D as v,b as m,c,e as p,g as o,t as k,f as a,w as _,l as U,j as F,z as O,y as z,N as G,Q as T,$ as q,F as j,h as V,i as P,G as Q,a0 as X,X as Y,u as J,Y as W}from"./index-Xku4Yv_8.js";import{g as Z,a as ee,b as te,c as se,d as ne,u as ae}from"./equipment-BJ8NO0ZY.js";import{d as oe}from"./index-tRiLkRmM.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as $}from"./lodash-C7R_B3uJ.js";const le={class:"flex items-center justify-center"},ce={class:"label"},ie=S({__name:"index",setup(x){const{t:e}=H.useI18n(),l=b();E(()=>{r.on("status:simStage",s=>{l.value=s})}),A(()=>{r.off("status:simStage")});const n=v(()=>{var g,h;let s="primary";return s=!((g=l.value)!=null&&g.stage)||((h=l.value)==null?void 0:h.stage)==="IDLE"?"primary":"danger",s}),t=v(()=>{let s=e("simStatus.IDLE");return l.value&&(s=l.value.stage==="IDLE"?e("simStatus.IDLE"):e("simStatus.INSIM")),s});return(s,g)=>{const h=m("el-tag");return c(),p("div",le,[o("span",ce,k(s.$t("panelTitle.simStatus"))+"ï¼š",1),a(h,{class:"ml10",type:n.value,size:"large"},{default:_(()=>[U(k(t.value),1)]),_:1},8,["type"])])}}}),re=S({__name:"index",setup(x){return(e,l)=>{const n=m("el-header");return c(),F(n,{class:"app-desktop-header flex items-center"},{default:_(()=>[a(ie)]),_:1})}}}),ue={class:"header-item flex items-center"},me=S({__name:"index",setup(x){const e=b(!1),{start:l,stop:n,isPending:t}=oe(()=>{e.value=!1},5e3);return r.on("isReceive",()=>{e.value=!0,l()}),A(()=>{r.off("isReceive"),n()}),(s,g)=>{const h=m("Bell"),y=m("el-icon");return c(),p("div",ue,[a(y,{class:O(["f20 icon",{animate__heartBeat:e.value,active:e.value}]),style:{outline:"none"}},{default:_(()=>[a(h)]),_:1},8,["class"])])}}}),_e=I(me,[["__scopeId","data-v-242f6f92"]]),de={class:"runtimes-status"},pe={class:"label"},fe={class:"ml5"};function ve(x,e){return c(),p("div",de,[o("div",pe,[e[0]||(e[0]=o("i",{class:"icon iconfont icon-Runtime mr5"},null,-1)),o("span",fe,k(x.$t("footer.labelRuntimesStatus")),1)])])}const he={},ke=I(he,[["render",ve]]),xe={class:"runtimes-clock"},be={class:"ml5"},ge=S({__name:"index",setup(x){const e=b([]);r.on("/gnss/hm/runtime/clock",()=>{n()});const l=v(()=>{let t=!1;return t=!!($.isEmpty(e.value)||$.find(e.value,s=>s.ocoxStatus==="UNLOCK")),t?"color:#F56C6C":""});E(()=>{}),A(()=>{r.off("/gnss/hm/runtime/clock")});const n=async()=>{const{data:t}=await Z();e.value=t};return(t,s)=>(c(),p("div",xe,[o("div",{class:"label",style:z(l.value)},[s[0]||(s[0]=o("i",{class:"icon iconfont icon-clock mr5"},null,-1)),o("span",be,k(t.$t("footer.labelClockStatus")),1)],4)]))}}),Se={class:"runtimes-chip"},$e={class:"ml5"},ye=S({__name:"index",setup(x){const e=b([]);r.on("/gnss/hm/runtime/chip",()=>{n()});const l=v(()=>{let t=!1;return t=!!($.isEmpty(e.value)||$.find(e.value,s=>!s.arm||!s.fpga)),t?"color:#F56C6C":""});E(()=>{}),A(()=>{r.off("/gnss/hm/runtime/chip")});const n=async()=>{const{data:t}=await ee();e.value=t};return(t,s)=>(c(),p("div",Se,[o("div",{class:"label",style:z(l.value)},[s[0]||(s[0]=o("i",{class:"icon iconfont icon-chip mr5"},null,-1)),o("span",$e,k(t.$t("footer.labelChipStatus")),1)],4)]))}}),Re={class:"runtimes-receiver"},Ce={class:"ml5"},we=S({__name:"index",setup(x){const e=b([]);r.on("/gnss/hm/runtime/receiver",()=>{n()});const l=v(()=>{let t=!1;return t=!!($.isEmpty(e.value)||$.find(e.value,s=>!s.locationStatus||!s.attenStatus)),t?"color:#F56C6C":""});E(()=>{}),A(()=>{r.off("/gnss/hm/runtime/receiver")});const n=async()=>{const{data:t}=await te();e.value=t};return(t,s)=>(c(),p("div",Re,[o("div",{class:"label",style:z(l.value)},[s[0]||(s[0]=o("i",{class:"icon iconfont icon-receiver mr5"},null,-1)),o("span",Ce,k(t.$t("footer.labelReceiverStatus")),1)],4)]))}}),Fe={class:"runtimes-rf-channel"},Me={class:"label"},Ae={class:"ml5"},Ee=S({__name:"index",setup(x){const e=b([]);r.on("/gnss/hm/runtime/freqStatus",()=>{l()}),E(()=>{}),A(()=>{r.off("/gnss/hm/runtime/freqStatus")});const l=async()=>{const{data:n}=await se();e.value=n};return(n,t)=>(c(),p("div",Fe,[o("div",Me,[t[0]||(t[0]=o("i",{class:"icon iconfont icon-rfid-fill mr5"},null,-1)),o("span",Ae,k(n.$t("footer.labelRfChannelStatus")),1)])]))}}),Le={class:"runtimes-link"},Be={class:"ml5"},De=S({__name:"index",setup(x){const e=b([]);r.on("/gnss/hm/runtime/clock",()=>{n()});const l=v(()=>{let t=!1;return t=!!($.isEmpty(e.value)||$.find(e.value,s=>!s.link||!s.data)),t?"color:#F56C6C":""});E(()=>{}),A(()=>{r.off("/gnss/hm/runtime/clock")});const n=async()=>{const{data:t}=await ne();e.value=t};return(t,s)=>(c(),p("div",Le,[o("div",{class:"label",style:z(l.value)},[s[0]||(s[0]=o("i",{class:"icon iconfont icon-network mr5"},null,-1)),o("span",Be,k(t.$t("footer.labelNetworkStatus")),1)],4)]))}}),Ie=S({__name:"index",setup(x){return(e,l)=>{const n=m("el-footer");return c(),F(n,{class:"app-desktop-footer flex items-center"},{default:_(()=>[a(_e),a(ke,{class:"ml20"}),a(ge,{class:"ml20"}),a(ye,{class:"ml20"}),a(we,{class:"ml20"}),a(Ee,{class:"ml20"}),a(De,{class:"ml20"})]),_:1})}}}),Ne=I(Ie,[["__scopeId","data-v-4f579316"]]),Pe={class:"title ml10 flex"},je={class:"title ml10 flex"},ze={class:"title ml20 flex"},Ge=S({__name:"index",setup(x){const e=G(),l=T(),n=q(),t=v(()=>e.meta.activeMenu?e.meta.activeMenu:e.path),s=v(()=>e.meta.asideActiveMenu?e.meta.asideActiveMenu:e.path),g=v(()=>e.path),h=b(!1);E(()=>{r.on("on:confirmSim",R=>{h.value=R})}),A(()=>{r.off("on:confirmSim")});const y=v(()=>{var u;let i=$.cloneDeep(n.showDesktopMenuListGet).find(f=>f.path===t.value),d=(u=i==null?void 0:i.children)==null?void 0:u.find(f=>f.path===s.value);return(d==null?void 0:d.children)||(i==null?void 0:i.children)}),B=R=>{l.push(R.path)},w=()=>{console.log("desktop:simulationStart"),r.emit("desktop:simulationStart")},D=()=>{console.log("desktop:simulationStop"),r.emit("desktop:simulationStop")};return(R,i)=>{const d=m("CaretRight"),u=m("el-icon"),f=m("SwitchButton"),C=m("ArrowRight"),M=m("el-menu-item"),N=m("el-menu");return c(),F(N,{class:"desktop-menu ml25 mr25 flex flex-column","default-active":g.value,router:!1,"unique-opened":!0},{default:_(()=>[t.value==="/desktop/control"?(c(),p(j,{key:0},[h.value?(c(),p("div",{key:1,class:"handle flex items-center justify-center pointer bg-red",onClick:D},[a(u,{class:"f30"},{default:_(()=>[a(f)]),_:1}),o("span",je,k(R.$t("btn.stopSim")),1)])):(c(),p("div",{key:0,class:"handle flex items-center justify-center pointer",onClick:w},[a(u,{class:"f30"},{default:_(()=>[a(d)]),_:1}),o("span",Pe,k(R.$t("btn.startSim")),1)]))],64)):(c(!0),p(j,{key:1},V(y.value,L=>(c(),F(M,{key:L.path,class:"flex items-center justify-center",onClick:K=>B(L),index:L.path},{title:_(()=>[o("span",ze,k(R.$t(`menu.${L.name}`)),1),L.children?(c(),F(u,{key:0,class:"ml10 f24",color:"#BFE3FF"},{default:_(()=>[a(C)]),_:1})):P("",!0)]),_:2},1032,["onClick","index"]))),128))]),_:1},8,["default-active"])}}}),Te=I(Ge,[["__scopeId","data-v-66cfc7ac"]]),qe={class:"desktop-pagination"},Ke={class:"handle flex"},Ve={class:"handle flex"},He={class:"handle flex"},Ue=S({__name:"index",setup(x){const e=G(),l=T(),n=b(!1),t=b(!1),s=b(!1),g=b(0),h=b(1),y=b(10),B=v(()=>e.meta.activeMenu?e.meta.activeMenu:e.path),w=v(()=>e.meta.asideActiveMenu?e.meta.asideActiveMenu:e.path),D=v(()=>e.path);E(()=>{r.on("on:total",i=>{g.value=i}),r.on("on:page",i=>{h.value=i,g.value!==0?i===1?(s.value=!0,t.value=!1):i*y.value>=g.value?(t.value=!0,s.value=!1):(t.value=!0,s.value=!0):(t.value=!1,s.value=!1)}),r.on("on:pageSize",i=>{y.value=i}),r.on("on:confirmSim",i=>{n.value=i,t.value=!1,s.value=!1})}),A(()=>{r.off("on:total"),r.off("on:page"),r.off("on:pageSize"),r.off("on:confirmSim")}),Q(()=>e.path,()=>{s.value=!1,t.value=!1},{immediate:!0});const R=()=>{l.push(B.value)};return(i,d)=>{const u=m("ArrowLeft"),f=m("el-icon"),C=m("ArrowRight");return c(),p("div",qe,[o("div",Ke,[t.value?(c(),p("div",{key:0,class:"box flex items-center justify-center flex-auto pointer",onClick:d[0]||(d[0]=(...M)=>i.handlePagePrev&&i.handlePagePrev(...M))},[a(f,{class:"ml10 f24",color:"#BFE3FF"},{default:_(()=>[a(u)]),_:1}),o("span",null,k(i.$t("btn.prev")),1)])):P("",!0)]),o("div",Ve,[s.value?(c(),p("div",{key:0,class:"box flex items-center justify-center flex-auto pointer",onClick:d[1]||(d[1]=(...M)=>i.handlePageNext&&i.handlePageNext(...M))},[o("span",null,k(i.$t("btn.next")),1),a(f,{class:"ml10 f24",color:"#BFE3FF"},{default:_(()=>[a(C)]),_:1})])):P("",!0)]),o("div",He,[w.value!==D.value?(c(),p("div",{key:0,class:"box flex items-center justify-center flex-auto pointer",onClick:R},[a(f,{class:"ml10 f24",color:"#BFE3FF"},{default:_(()=>[a(u)]),_:1}),o("span",null,k(i.$t("btn.back")),1)])):P("",!0)])])}}}),Oe=I(Ue,[["__scopeId","data-v-7ab26316"]]),Qe=S({__name:"index",setup(x){return(e,l)=>{const n=m("el-aside");return c(),F(n,{class:"app-desktop-aside flex flex-column"},{default:_(()=>[a(Te,{class:"flex-auto"}),a(Oe)]),_:1})}}}),Xe=I(Qe,[["__scopeId","data-v-1b0033a0"]]),Ye={class:"app-desktop-breadcrumb flex items-center"},Je={class:"breadcrumb-title"},We={class:"breadcrumb-title"},Ze=S({__name:"index",setup(x){const e=G(),l=q(),n=v(()=>(l.breadcrumbListGet[e.matched[e.matched.length-1].path]??[])||[]);return(t,s)=>{const g=m("HomeFilled"),h=m("el-icon"),y=m("el-breadcrumb-item"),B=m("el-breadcrumb");return c(),p("div",Ye,[a(h,{class:"mr10 f24",color:"#BFE3FF"},{default:_(()=>[a(g)]),_:1}),a(B,{separator:"/"},{default:_(()=>[(c(!0),p(j,null,V(n.value,(w,D)=>(c(),p(j,{key:w.path},[D!==n.value.length-1?(c(),F(y,{key:0,to:{path:w.path}},{default:_(()=>[o("span",Je,k(t.$t(`menu.${w.name}`)),1)]),_:2},1032,["to"])):(c(),F(y,{key:1},{default:_(()=>[o("span",We,k(t.$t(`menu.${w.name}`)),1)]),_:2},1024))],64))),128))]),_:1})])}}}),et={class:"relative flex-auto pl20 pr20 flex flex-column"},lt=S({__name:"index",setup(x){const e=q(),l=T(),n=G(),t=ae(),{keepAliveName:s}=X(t),g=b(!0),h=v(()=>n.meta.activeMenu?n.meta.activeMenu:n.path),y=v(()=>n.meta.asideActiveMenu?n.meta.asideActiveMenu:n.path),B=v(()=>{var f;let d=$.cloneDeep(e.showDesktopMenuListGet).find(C=>C.path===h.value),u=(f=d==null?void 0:d.children)==null?void 0:f.find(C=>C.path===y.value);return(u==null?void 0:u.children)||(d==null?void 0:d.children)});E(()=>{document.addEventListener("keydown",w)}),A(()=>{document.removeEventListener("keydown",w)});const w=i=>{var M;let u={38:38,39:39,40:40,37:37,188:188,190:190,186:186,222:222,81:81,82:82,83:83,189:189,187:187,67:67,71:71,75:75,79:79,68:68,72:72,76:76,80:80,78:78,74:74,70:70,66:66,65:65,69:69,73:73,77:77,84:84}[i.keyCode];r.emit("on:keydown",u);const f={67:"/desktop/control",71:"/desktop/monitor",75:"/desktop/frequency",79:"/desktop/satellite",68:"/desktop/carrier",72:"/desktop/system"};if($.includes([67,71,75,79,68,72],u)){let N=f[u];l.push(N)}let C=[78,74,70,66,65];if($.includes(C,u)){let N=$.findIndex(C,K=>K===u),L=(M=B.value)==null?void 0:M[N];if(L)l.push(L.path);else return!1}u===77&&D(),u===84&&R()},D=()=>{n.path!==y.value&&l.push(h.value)},R=()=>{window.location.reload()};return(i,d)=>{const u=m("router-view"),f=m("el-container");return c(),F(f,{class:"app-desktop-layout"},{default:_(()=>[a(f,{class:"flex-auto flex flex-column app-desktop-layout-container relative"},{default:_(()=>[a(re),a(f,{class:"relative flex flex-auto flex-column"},{default:_(()=>[a(Ze),o("div",et,[a(u,null,{default:_(({Component:C,route:M})=>[(c(),F(Y,{include:J(s)},[g.value?(c(),F(W(C),{key:M.fullPath})):P("",!0)],1032,["include"]))]),_:1})])]),_:1}),a(Ne)]),_:1}),a(Xe)]),_:1})}}});export{lt as default};
