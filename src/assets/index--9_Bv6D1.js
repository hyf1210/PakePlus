import{_ as N}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{d as E,r as u,o as M,n as j,m,a as K,b,c as W,e as A,f as r,g as x,w as D}from"./index-Xku4Yv_8.js";import{_ as v}from"./lodash-C7R_B3uJ.js";const G={class:"app-carrier-antenna flex-auto flex flex-column"},H={class:"flex-auto mt20"},J={class:"mt20 mb20 flex justify-end"},Y=E({__name:"index",setup(L){const p=u(5),t=u(1),d=u(0),w=u(),S=u(),i=u([]),l=u(0),o=u(!1);u(!1);const n=u([{gnssType:"BDS",freqType:"B1I",number:13.5,newnumber:13.5},{gnssType:"BDS",freqType:"B2I",number:13.5,newnumber:13.5},{gnssType:"BDS",freqType:"B3I",number:13.5,newnumber:13.5},{gnssType:"BDS",freqType:"B1C",number:13.5,newnumber:13.5},{gnssType:"BDS",freqType:"B2a",number:13.5,newnumber:13.5}]),_=u([]);M(async()=>{await j(),f(t.value),h(),m.on("on:keydown",e=>q(e))}),K(()=>{m.off("on:keydown")});const C=(e,a)=>{e&&(i.value[a]=e)},q=e=>{switch(e){case 38:{!o.value&&y(-1);break}case 37:{o.value&&T(.1);break}case 40:{!o.value&&y(1);break}case 39:{o.value&&T(-.1);break}case 82:{k();break}case 81:{B();break}case 69:{z();break}case 73:{I();break}case 83:{R();break}}},P=e=>{S.value=e},z=()=>{t.value!==1&&(t.value=t.value-1,f(t.value))},I=()=>{t.value*p.value<d.value&&(t.value=t.value+1,f(t.value))},y=e=>{let a=l.value;a=a+e,a<0?a=0:a>=n.value.length&&(a=n.value.length-1),l.value=a,h()},h=()=>{w.value.setCurrentRow(n.value[l.value])},k=v.debounce(()=>{o.value?(n.value[l.value].newnumber===null&&(n.value[l.value].newnumber=0),i.value[l.value].blur(),o.value=!1):(i.value[l.value].focus(),o.value=!0)},200,{maxWait:1e3}),B=()=>{n.value[l.value].newnumber=n.value[l.value].number,i.value[l.value].blur(),o.value=!1},R=()=>{o.value&&(B(),n.value[l.value].newnumber=null,k())},T=e=>{let s=v.cloneDeep(n.value[l.value]).newnumber+e;n.value[l.value].newnumber=v.round(s,1)},f=e=>{_.value=e===1?v.slice(n.value,0,5):e===2?v.slice(n.value,5,10):v.slice(n.value,10,15),m.emit("on:total",d.value),m.emit("on:page",t.value),m.emit("on:pageSize",p.value)};return(e,a)=>{const s=b("el-table-column"),V=b("el-input-number"),U=b("el-table"),$=b("el-pagination");return W(),A("div",G,[r(N,{class:"mt20",label:"desktopFrequencyPower"}),x("div",H,[r(U,{class:"h100 mb20 custom-dektop-table-input",ref_key:"tableRef",ref:w,data:_.value,border:"",stripe:"","highlight-current-row":"",onCurrentChange:P},{default:D(()=>[r(s,{prop:"gnssType",align:"center",label:e.$t("table.common.gnssType")},null,8,["label"]),r(s,{prop:"freqType",align:"center",label:e.$t("table.common.freqType")},null,8,["label"]),r(s,{prop:"number",align:"center",label:e.$t("table.regulatingPower.current")},null,8,["label"]),r(s,{prop:"newnumber",align:"center",label:e.$t("table.regulatingPower.regulating")},{default:D(({row:c,$index:F})=>[r(V,{ref:g=>C(g,F),modelValue:c.newnumber,"onUpdate:modelValue":g=>c.newnumber=g,min:0,max:80,step:.1,controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"])]),_:1},8,["data"])]),x("div",J,[r($,{"current-page":t.value,"onUpdate:currentPage":a[0]||(a[0]=c=>t.value=c),"page-size":p.value,"onUpdate:pageSize":a[1]||(a[1]=c=>p.value=c),background:"",layout:"total, prev, pager, next, sizes","page-sizes":[5],total:d.value},null,8,["current-page","page-size","total"])])])}}});export{Y as default};
