import{d as h,v as y,Q as C,r as g,o as w,b as d,c as D,e as j,f as a,g as _,w as n,l as r,t as i}from"./index-Xku4Yv_8.js";import{u as x}from"./useHandleData-CjGr2aYO.js";import{_ as Y}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{b as B,c as E}from"./trajectory-DzLrkcBW.js";import{_ as $}from"./lodash-C7R_B3uJ.js";import{u as H}from"./index-tRiLkRmM.js";const M={class:"app-track flex flex-column flex-auto pl20 pr20"},N={class:"handle flex justify-end"},V={class:"flex-auto mt20"},Q=h({__name:"index",setup(A){const{t:c}=y.useI18n(),u=C(),p=g([]);w(()=>{b()});const m=(e,t)=>{u.push(`/scene/carrier/motion/${e}`),t&&u.push(`/scene/carrier/motion/${e}/${t}`)},b=async()=>{const{data:e}=await B();$(e).forEach(t=>{let l=H(t.createTime*1e3,"YYYY-MM-DD HH:mm:ss");t.date=l.value}),p.value=$.filter(e,t=>t.type==="motion")},k=async e=>{await x(c,E,e,`${c("btn.delete")}${c("btn.file")}【${e.name}】`),b()};return(e,t)=>{const l=d("el-button"),o=d("el-table-column"),v=d("el-table");return D(),j("div",M,[a(Y,{class:"mb20",label:"trajectorySimulationFile"}),_("div",N,[a(l,{type:"primary",onClick:t[0]||(t[0]=s=>m("add"))},{default:n(()=>[r(i(e.$t("btn.add")),1)]),_:1})]),_("div",V,[a(v,{class:"h100",data:p.value,border:"",stripe:""},{default:n(()=>[a(o,{type:"index",align:"center",label:e.$t("table.common.index"),width:"60"},null,8,["label"]),a(o,{prop:"name",align:"center",label:e.$t("table.common.filename")},null,8,["label"]),a(o,{prop:"date",align:"center",label:e.$t("table.common.createTime")},null,8,["label"]),a(o,{align:"center",label:e.$t("table.common.operation")},{default:n(s=>[a(l,{link:"",color:"#000",onClick:f=>m("edit",s.row.name)},{default:n(()=>[r(i(e.$t("btn.edit")),1)]),_:2},1032,["onClick"]),a(l,{link:"",color:"#000",onClick:f=>m("detail",s.row.name)},{default:n(()=>[r(i(e.$t("btn.detail")),1)]),_:2},1032,["onClick"]),a(l,{link:"",type:"danger",onClick:f=>k(s.row)},{default:n(()=>[r(i(e.$t("btn.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])}}});export{Q as default};
