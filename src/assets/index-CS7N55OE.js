import{_ as g}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{_ as v}from"./index.vue_vue_type_style_index_0_lang-ocAHgIx2.js";import{b as D,c as h,d as C}from"./trajectory-DzLrkcBW.js";import{u as j}from"./useHandleData-CjGr2aYO.js";import{u as x}from"./useDownload-B8WTrn39.js";import{d as N,v as B,r as T,o as V,b as l,c as d,e as Y,f as t,w as a,g as A,j as E,l as u,t as _,i as H}from"./index-Xku4Yv_8.js";import{_ as f}from"./lodash-C7R_B3uJ.js";import{u as M}from"./index-tRiLkRmM.js";const I={class:"app-track-edit flex flex-column flex-auto pl20 pr20"},L={class:"flex-auto mt20"},Q=N({__name:"index",setup(S){const{t:s}=B.useI18n(),m=T([]);V(()=>{r()});const r=async()=>{const{data:e}=await D();f(e).forEach(o=>{let c=M(o.createTime*1e3,"YYYY-MM-DD HH:mm:ss");o.date=c.value}),m.value=f.filter(e,o=>o.type==="point")},b=async e=>{await j(s,h,e,`${s("btn.delete")}${s("btn.file")}【${e.name}】`),r()},w=async e=>{x(C,e,{fileName:e})};return(e,o)=>{const c=l("el-col"),y=l("el-row"),n=l("el-table-column"),p=l("el-button"),$=l("el-table");return d(),Y("div",I,[t(g,{label:"importTrack"}),t(y,{class:"mt20",gutter:20},{default:a(()=>[t(c,{span:12},{default:a(()=>[t(v,{url:"/api/gnss/sim/setting/trajectory/upload/csv",onOnSuccess:r})]),_:1})]),_:1}),A("div",L,[t($,{class:"h100",data:m.value,border:"",stripe:""},{default:a(()=>[t(n,{type:"index",align:"center",label:e.$t("table.common.index"),width:"60"},null,8,["label"]),t(n,{prop:"name",align:"center",label:e.$t("table.common.filename")},null,8,["label"]),t(n,{prop:"date",align:"center",label:e.$t("table.common.createTime")},null,8,["label"]),t(n,{align:"center",label:e.$t("table.common.operation")},{default:a(i=>[i.row.type==="point"?(d(),E(p,{key:0,link:"",color:"#000",onClick:k=>w(i.row.name)},{default:a(()=>[u(_(e.$t("btn.download")),1)]),_:2},1032,["onClick"])):H("",!0),t(p,{link:"",type:"danger",onClick:k=>b(i.row)},{default:a(()=>[u(_(e.$t("btn.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])}}});export{Q as default};
