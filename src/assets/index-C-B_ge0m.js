import{C as $}from"./index-DupTiM6y.js";import{d as z}from"./gnss-D7gCU5rb.js";import{d as T,r as u,m as h,o as C,a as k,D as F,b as c,c as b,e as y,f as t,g as r,t as D,w as d,F as P,h as B,j as V}from"./index-Xku4Yv_8.js";import{_ as a}from"./lodash-C7R_B3uJ.js";import{c as x}from"./index-tRiLkRmM.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"satellite-params h100 flex flex-column"},j={class:"flex justify-between mt20"},q={class:"operation flex w50"},A={class:"item flex items-center"},G={class:"label mr10"},N={class:"flex-auto mt20 mb20"},U=T({__name:"index",setup(X){const f=u([]),i=u([]),p=u(""),g=x(()=>{w()},2e3);h.on("/satellite/all",()=>{v()}),C(async()=>{await v(),await w()}),k(()=>{h.off("/satellite/all")});const _=F(()=>p.value?a.filter(i.value,e=>e.gnssType===p.value):i.value),v=async()=>{const{data:e}=await z();g();let s=[];s=a.map(a.cloneDeep(e),l=>(l.ae.az=a.round(l.ae.az,6)??0,l.ae.el=a.round(l.ae.el,6)??0,l.doppler=a.round(l.doppler,6)??0,l.pd=a.round(l.pd,6)??0,l.startPhase=a.round(l.startPhase,6)??0,l.starErr.clkErr=a.round(l.starErr.clkErr,6)??0,l.ecef.x=a.round(l.ecef.x,6)??0,l.ecef.y=a.round(l.ecef.y,6)??0,l.ecef.z=a.round(l.ecef.z,6)??0,l.velocity.x=a.round(l.velocity.x,6)??0,l.velocity.y=a.round(l.velocity.y,6)??0,l.velocity.z=a.round(l.velocity.z,6)??0,l)),i.value=s},w=()=>{f.value=a.uniq(a.map(i.value,"gnssType"))};return(e,s)=>{const l=c("el-option"),m=c("el-select"),o=c("el-table-column"),E=c("el-table");return b(),y("div",L,[t($,{title:"satelliteParams"}),r("div",j,[r("div",q,[r("div",A,[r("span",G,D(e.$t("table.common.gnssType")),1),t(m,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=n=>p.value=n),style:{width:"100px"},clearable:""},{default:d(()=>[(b(!0),y(P,null,B(f.value,n=>(b(),V(l,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),r("div",N,[t(E,{class:"h100",data:_.value,border:"",stripe:"",size:"small"},{default:d(()=>[t(o,{prop:"gnssType",align:"center",label:e.$t("table.common.gnssType"),fixed:"left",width:"70"},null,8,["label"]),t(o,{prop:"prn",align:"center",label:e.$t("table.freq.prn"),width:"60"},null,8,["label"]),t(o,{align:"center",label:e.$t("table.satellite.ECEF")},{default:d(()=>[t(o,{prop:"ecef.x",label:e.$t("table.satellite.ECEFX"),align:"center",width:"130","show-overflow-tooltip":""},null,8,["label"]),t(o,{prop:"ecef.y",label:e.$t("table.satellite.ECEFY"),align:"center",width:"130","show-overflow-tooltip":""},null,8,["label"]),t(o,{prop:"ecef.z",label:e.$t("table.satellite.ECEFZ"),align:"center",width:"130","show-overflow-tooltip":""},null,8,["label"])]),_:1},8,["label"]),t(o,{prop:"ae.el",align:"center",label:e.$t("table.satellite.el"),width:"90","show-overflow-tooltip":""},null,8,["label"]),t(o,{prop:"ae.az",align:"center",label:e.$t("table.satellite.az"),width:"90","show-overflow-tooltip":""},null,8,["label"]),t(o,{prop:"doppler",align:"center",label:e.$t("table.satellite.doppler"),width:"100","show-overflow-tooltip":""},null,8,["label"]),t(o,{align:"center",label:e.$t("table.satellite.velocity"),width:"150","show-overflow-tooltip":""},{default:d(()=>[t(o,{prop:"velocity.x",label:e.$t("table.satellite.velocityX"),align:"center",width:"120","show-overflow-tooltip":""},null,8,["label"]),t(o,{prop:"velocity.y",label:e.$t("table.satellite.velocityY"),align:"center",width:"120","show-overflow-tooltip":""},null,8,["label"]),t(o,{prop:"velocity.z",label:e.$t("table.satellite.velocityZ"),align:"center",width:"120","show-overflow-tooltip":""},null,8,["label"])]),_:1},8,["label"]),t(o,{prop:"starErr.clkErr",align:"center",label:e.$t("table.satellite.clkErr"),"show-overflow-tooltip":""},null,8,["label"])]),_:1},8,["data"])])])}}}),K=S(U,[["__scopeId","data-v-ba313f29"]]);export{K as default};
