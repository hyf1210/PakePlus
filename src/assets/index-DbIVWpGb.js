import{d as h,v as k,Q as C,r as g,o as w,b as d,c as D,e as y,f as t,g as _,w as l,l as r,t as i}from"./index-Xku4Yv_8.js";import{u as x}from"./useHandleData-CjGr2aYO.js";import{_ as E}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{a as Y}from"./simulation-C2GBFQc4.js";import{b as B}from"./event-D00WihNJ.js";import{_ as H}from"./lodash-C7R_B3uJ.js";import{u as M}from"./index-tRiLkRmM.js";const N={class:"app-scene-other-event flex flex-column flex-auto pl20 pr20"},V={class:"handle flex justify-end"},j={class:"flex-auto mt20"},q=h({__name:"index",setup(A){const{t:c}=k.useI18n(),u=C(),p=g([]);w(()=>{b()});const m=(e,a)=>{u.push(`/scene/other/event/${e}`),a&&u.push(`/scene/other/event/${e}/${a}`)},b=async()=>{const{data:e}=await Y();H(e).forEach(a=>{let n=M(a.createTime*1e3,"YYYY-MM-DD HH:mm:ss");a.date=n.value}),p.value=e},v=async e=>{await x(c,B,{...e},`${c("btn.delete")}${c("btn.file")}【${e.name}】`),b()};return(e,a)=>{const n=d("el-button"),o=d("el-table-column"),$=d("el-table");return D(),y("div",N,[t(E,{class:"mb20",label:"eventFile"}),_("div",V,[t(n,{type:"primary",onClick:a[0]||(a[0]=s=>m("add"))},{default:l(()=>[r(i(e.$t("btn.add")),1)]),_:1})]),_("div",j,[t($,{class:"h100",data:p.value,border:"",stripe:""},{default:l(()=>[t(o,{type:"index",align:"center",label:e.$t("table.common.index"),width:"60"},null,8,["label"]),t(o,{prop:"name",align:"center",label:e.$t("table.common.filename")},null,8,["label"]),t(o,{prop:"date",align:"center",label:e.$t("table.common.createTime")},null,8,["label"]),t(o,{align:"center",label:e.$t("table.common.operation")},{default:l(s=>[t(n,{link:"",color:"#000",onClick:f=>m("edit",s.row.name)},{default:l(()=>[r(i(e.$t("btn.edit")),1)]),_:2},1032,["onClick"]),t(n,{link:"",color:"#000",onClick:f=>m("detail",s.row.name)},{default:l(()=>[r(i(e.$t("btn.detail")),1)]),_:2},1032,["onClick"]),t(n,{link:"",type:"danger",onClick:f=>v(s.row)},{default:l(()=>[r(i(e.$t("btn.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])}}});export{q as default};
