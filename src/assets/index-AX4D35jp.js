import{_ as C}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{_ as h}from"./index.vue_vue_type_style_index_0_lang-ocAHgIx2.js";import{d as D,v as y,Q as L,r as x,o as B,b as s,c as N,e as Y,f as t,w as n,g as w,l as r,t as i,_ as E}from"./index-Xku4Yv_8.js";import{u as H}from"./useHandleData-CjGr2aYO.js";import{c as M,d as P}from"./powerLevel-BqOPWDkb.js";import{_ as S}from"./lodash-C7R_B3uJ.js";import{u as T}from"./index-tRiLkRmM.js";const V={class:"app-power-bds flex flex-auto flex-column pl20 pr20"},j={class:"handle flex justify-end"},A={class:"flex-auto mt20"},J=D({__name:"index",setup(F){const{t:c}=y.useI18n(),_=L(),f=x([]);B(()=>{p()});const m=(e,o)=>{_.push(`/scene/power/bds/${e}`),o&&_.push(`/scene/power/bds/${e}/${o}`)},p=async()=>{const{data:e}=await M("bds");S(e).forEach(o=>{let u=T(o.createTime*1e3,"YYYY-MM-DD HH:mm:ss");o.date=u.value}),f.value=e},$=async e=>{await H(c,P,{gnssType:"bds",...e},`${c("btn.delete")}${c("btn.file")}【${e.name}】`),p()},v=async e=>{E(`/api/gnss/sim/setting/powerLevel/bds/download?fileName=${e}`)};return(e,o)=>{const u=s("el-col"),g=s("el-row"),l=s("el-button"),d=s("el-table-column"),k=s("el-table");return N(),Y("div",V,[t(C,{class:"mb20",label:"BDSPowerConfigFile"}),t(g,{gutter:20},{default:n(()=>[t(u,{span:12},{default:n(()=>[t(h,{url:"/api/gnss/sim/setting/powerLevel/bds/upload",onOnSuccess:p})]),_:1})]),_:1}),w("div",j,[t(l,{type:"primary",onClick:o[0]||(o[0]=a=>m("add"))},{default:n(()=>[r(i(e.$t("btn.add")),1)]),_:1})]),w("div",A,[t(k,{class:"h100",data:f.value,border:"",stripe:""},{default:n(()=>[t(d,{type:"index",align:"center",label:e.$t("table.common.index"),width:"100"},null,8,["label"]),t(d,{prop:"name",align:"center",label:e.$t("table.common.filename")},null,8,["label"]),t(d,{prop:"date",align:"center",label:e.$t("table.common.createTime")},null,8,["label"]),t(d,{align:"center",label:e.$t("table.common.operation")},{default:n(a=>[t(l,{link:"",color:"#000",onClick:b=>m("edit",a.row.name)},{default:n(()=>[r(i(e.$t("btn.edit")),1)]),_:2},1032,["onClick"]),t(l,{link:"",color:"#000",onClick:b=>m("detail",a.row.name)},{default:n(()=>[r(i(e.$t("btn.detail")),1)]),_:2},1032,["onClick"]),t(l,{link:"",color:"#000",onClick:b=>v(a.row.name)},{default:n(()=>[r(i(e.$t("btn.download")),1)]),_:2},1032,["onClick"]),t(l,{link:"",type:"danger",onClick:b=>$(a.row)},{default:n(()=>[r(i(e.$t("btn.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])}}});export{J as default};
