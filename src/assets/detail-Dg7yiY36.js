import{d as C,N as L,r as s,o as N,D as R,n as q,b as c,O as U,c as u,e as b,g as _,f as t,w as i,t as z,F as D,h as V,P as j,j as h}from"./index-Xku4Yv_8.js";import{g as G}from"./antenna-eLm4p05c.js";import{_ as n}from"./lodash-C7R_B3uJ.js";const M={class:"app-scene-carrier-antenna-detail flex flex-auto flex-column"},O={class:"handle"},P={style:{"flex-shrink":"0"}},S={style:{"flex-shrink":"0"}},T={class:"flex-auto mt20"},Q=C({__name:"detail",setup(H){const g=L(),$=s(),v=s(!1),y=s([]),w=s([]),k=s([]),d=s(),p=s();N(()=>{g.params.name&&A(g.params.name)});const x=R(()=>{let e=n.cloneDeep(y.value)||[];return d.value!==void 0&&(e=n.filter(e,o=>o.az===d.value)),p.value!==void 0&&(e=n.filter(e,o=>o.el===p.value)),e}),A=async l=>{v.value=!0;const{data:e}=await G({name:l});let o=n.uniq(n.map(e,"az")),m=n.uniq(n.map(e,"el"));n.forEach(o,r=>{w.value.push(r)}),n.forEach(m,r=>{k.value.push(r)}),await q(),y.value=e,v.value=!1};return(l,e)=>{const o=c("el-option"),m=c("el-select"),r=c("el-col"),B=c("el-row"),f=c("el-table-column"),E=c("el-table"),F=U("loading");return u(),b("div",M,[_("div",O,[t(B,{gutter:20},{default:i(()=>[t(r,{class:"items-center",span:3,style:{display:"flex !important"}},{default:i(()=>[_("span",P,z(l.$t("table.antenna.az"))+"：",1),t(m,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),placeholder:l.$t("common.placeholder.select"),style:{width:"100%"},clearable:""},{default:i(()=>[(u(!0),b(D,null,V(w.value,a=>(u(),h(o,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),t(r,{class:"items-center",span:3,style:{display:"flex !important"}},{default:i(()=>[_("span",S,z(l.$t("table.antenna.el"))+"：",1),t(m,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=a=>p.value=a),placeholder:l.$t("common.placeholder.select"),style:{width:"100%"},clearable:""},{default:i(()=>[(u(!0),b(D,null,V(k.value,a=>(u(),h(o,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1})]),_("div",T,[j((u(),h(E,{class:"h100",data:x.value,ref_key:"tableRef",ref:$,border:"",stripe:"",size:"small","element-loading-svg-view-box":"-10, -10, 50, 50"},{default:i(()=>[t(f,{type:"index",align:"center",label:l.$t("table.common.index"),width:"100"},null,8,["label"]),t(f,{prop:"az",align:"center",label:l.$t("table.antenna.az")},null,8,["label"]),t(f,{prop:"el",align:"center",label:l.$t("table.antenna.el")},null,8,["label"]),t(f,{prop:"gain",align:"center",label:l.$t("table.antenna.gain")},null,8,["label"])]),_:1},8,["data"])),[[F,v.value]])])])}}});export{Q as default};
