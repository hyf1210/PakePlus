import{_ as g}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{i as d,u as S}from"./index-D-dxq8MR.js";import{u as b,c as z,r as h,e as _}from"./europe-DNtwB6DZ.js";import{_ as o}from"./lodash-C7R_B3uJ.js";import{d as v,r as p,s as x,m as f,o as T,a as B,c as D,e as $,f as k,g as y}from"./index-Xku4Yv_8.js";const w={class:"app-satellite-stellarmap-angle flex-auto flex flex-column"},L={class:"flex-auto flex"},O=v({__name:"index",setup(E){const r=p(),n=x(),t=p([]);f.on("/satellite/ae",()=>{i()}),T(()=>{u(),i()}),B(()=>{f.off("/satellite/ae")});const i=async()=>{const s=[{prn:6,gnssType:"BDS",ae:{az:355.5612487792969,el:63.165122985839844}},{prn:7,gnssType:"BDS",ae:{az:27.256080627441406,el:70.98101043701172}},{prn:8,gnssType:"BDS",ae:{az:163.57577514648438,el:37.55514144897461}},{prn:9,gnssType:"BDS",ae:{az:202.9887237548828,el:27.575363159179688}},{prn:10,gnssType:"BDS",ae:{az:345.0749206542969,el:68.911376953125}},{prn:13,gnssType:"BDS",ae:{az:176.1468048095703,el:29.097232818603516}},{prn:16,gnssType:"BDS",ae:{az:358.11126708984375,el:62.01806640625}},{prn:20,gnssType:"BDS",ae:{az:153.00927734375,el:10.738014221191406}},{prn:27,gnssType:"BDS",ae:{az:61.563072204589844,el:11.84538459777832}},{prn:29,gnssType:"BDS",ae:{az:289.3463134765625,el:46.53627014160156}},{prn:30,gnssType:"BDS",ae:{az:24.9882869720459,el:54.57146453857422}},{prn:39,gnssType:"BDS",ae:{az:45.08956527709961,el:58.31395721435547}},{prn:40,gnssType:"BDS",ae:{az:150.72120666503906,el:46.86214828491211}}];let e=[];e=o.groupBy(o(o.cloneDeep(s)).forEach(a=>{var l,c;a.value=[(l=a==null?void 0:a.ae)==null?void 0:l.el,(c=a==null?void 0:a.ae)==null?void 0:c.az],a.name=a.gnssType+a.prn}),"gnssType"),t.value=e||[],m()},u=()=>{n.value=d(r.value)},m=()=>{let s={polar:{center:["50%","50%"],radius:"80%"},legend:{orient:"vertical",data:Object.keys(t.value),left:"10%",y:"center",itemWidth:30,itemHeight:30,itemGap:100,textStyle:{fontSize:24,color:"#BFE3FF"},inactiveColor:"#525457",formatter:e=>{var l;let a=((l=t.value[e])==null?void 0:l.length)||0;return e+`(${a})`}},tooltip:{trigger:"item",showDelay:0,transitionDuration:.2,padding:0,backgroundColor:"transparent",borderColor:"transparent",textStyle:{fontSize:12,color:"#fff"},formatter:e=>`<div class='tooltip-box'>${e.data.gnssType}-${e.data.prn} <br/>[Az: `+e.value[1]+"ï¼ŒEl:"+(90-e.value[0])+"]</div>"},angleAxis:{type:"value",min:0,max:360,axisTick:{show:!1},axisLabel:{show:!0,fontSize:20,formatter:e=>{let a="";switch(e){case 0:a="N";break;case 90:a="E";break;case 180:a="S";break;case 270:a="W";break;default:a=""}return a}},axisLine:{lineStyle:{color:"#357F9E"}},splitLine:{lineStyle:{color:"#357F9E"}}},radiusAxis:{type:"value",min:0,max:90,splitNumber:3,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,color:"#fff",fontSize:10,align:"left",verticalAlign:"middle",formatter:e=>90-e},splitLine:{lineStyle:{color:"#357F9E"}}},series:[{name:"GPS",type:"scatter",coordinateSystem:"polar",z:5,data:o.get(t.value,"GPS"),symbolSize:20,itemStyle:{color:"rgb(9,71,255)"},label:{show:!0,position:"bottom",symbolSize:12,color:"#fff",formatter:e=>`${e.data.gnssType}-${e.data.prn}`},symbol:`image://${b}`},{name:"BDS",type:"scatter",coordinateSystem:"polar",z:5,data:o.get(t.value,"BDS"),symbolSize:20,itemStyle:{color:"rgb(255,9,30)"},label:{show:!0,position:"bottom",symbolSize:12,color:"#fff",formatter:e=>`${e.data.gnssType}-${e.data.prn}`},symbol:`image://${z}`},{name:"GLO",type:"scatter",coordinateSystem:"polar",z:5,data:o.get(t.value,"GLO"),symbolSize:20,itemStyle:{color:"rgb(126,125,125)"},label:{show:!0,position:"bottom",symbolSize:12,color:"#fff",formatter:e=>`${e.data.gnssType}-${e.data.prn}`},symbol:`image://${h}`},{name:"GAL",type:"scatter",coordinateSystem:"polar",z:5,data:o.get(t.value,"GAL"),symbolSize:20,itemStyle:{color:"rgb(126,125,125)"},label:{show:!0,position:"bottom",symbolSize:12,color:"#fff",formatter:e=>`${e.data.gnssType}-${e.data.prn}`},symbol:`image://${_}`}]};S(n.value,s)};return(s,e)=>(D(),$("div",w,[k(g,{class:"mt10 mb10",label:"desktopSatelliteStellarmapangle"}),y("div",L,[y("div",{class:"charts flex-auto",ref_key:"echartsRef",ref:r},null,512)])]))}});export{O as default};
