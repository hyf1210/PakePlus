import{d as u,Q as _,N as v,r as c,o as g,c as h,e as x,f as t,g as y,V as m}from"./index-Xku4Yv_8.js";import{_ as C}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{G as i}from"./index-DXDSQOyL.js";import{_ as k}from"./index.vue_vue_type_style_index_0_lang-CV9LYQiB.js";import{g as B,a as E}from"./event-D00WihNJ.js";import{_ as G}from"./lodash-C7R_B3uJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dict-BKYb64jL.js";import"./index.vue_vue_type_script_setup_true_lang-ChC3_vEv.js";const R={class:"app-scene-other-event-edit flex flex-column flex-auto pl40 pr40"},b={class:"flex ml50 mt20"},q=u({__name:"edit",setup(w){const f=_(),n=v(),a=c({}),l=c(null);g(()=>{n.params.name&&d(n.params.name)});const p=async()=>{var s;const e=await((s=l.value)==null?void 0:s.handleGetModel());if(e){const o=await E(e.name,e.list);o.code===0?m({type:"success",message:o.msg}):m({type:"error",message:o.msg}),r()}},r=()=>{f.push("/scene/other/event")},d=async e=>{const{data:s}=await B({name:e});a.value.name=e,a.value.list=G.sortBy(s,["eventTime"])};return(e,s)=>(h(),x("div",R,[t(C,{label:"eventConfig"}),t(k,{class:"mt20 flex-auto",ref_key:"fromRef",ref:l,initData:a.value},null,8,["initData"]),y("div",b,[t(i,{class:"ml50",label:"confirm",onClick:p}),t(i,{class:"ml50",label:"cancel",onClick:r})])]))}});export{q as default};
