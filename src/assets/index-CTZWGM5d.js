import{_ as k}from"./index.vue_vue_type_style_index_0_lang-CVeWsgLW.js";import{_ as v}from"./index.vue_vue_type_style_index_0_lang-ocAHgIx2.js";import{b as C,c as D,d as y}from"./ephemeris-D7BidhGX.js";import{u as S}from"./useHandleData-CjGr2aYO.js";import{u as T}from"./useDownload-B8WTrn39.js";import{d as x,v as B,Q as E,r as N,o as Y,b as n,c as A,e as H,f as t,w as a,g as M,l as r,t as c}from"./index-Xku4Yv_8.js";import{_ as V}from"./lodash-C7R_B3uJ.js";import{u as F}from"./index-tRiLkRmM.js";const I={class:"app-satellite-ephemeris-bds flex flex-auto flex-column pl20 pr20"},L={class:"flex-auto mt20"},P=x({__name:"index",setup(R){const{t:m}=B.useI18n(),f=E(),_=N([]);Y(()=>{d()});const b=(e,l)=>{f.push(`/scene/constellation/ephBds/${e}/${l}`)},d=async()=>{const{data:e}=await C("bds");V(e).forEach(l=>{let p=F(l.createTime*1e3,"YYYY-MM-DD HH:mm:ss");l.date=p.value}),_.value=e},$=async e=>{await S(m,D,{gnssType:"bds",...e},`${m("btn.delete")}${m("btn.file")}【${e.name}】`),d()},g=async e=>{T(y,e,{gnssType:"bds",fileName:e})};return(e,l)=>{const p=n("el-col"),w=n("el-row"),o=n("el-table-column"),s=n("el-button"),h=n("el-table");return A(),H("div",I,[t(k,{class:"mb20",label:"importSatelliteEphemerisFile"}),t(w,{gutter:20},{default:a(()=>[t(p,{span:12},{default:a(()=>[t(v,{url:"/api/gnss/sim/setting/bds/upload",onOnSuccess:d})]),_:1})]),_:1}),M("div",L,[t(h,{class:"h100",data:_.value,border:"",stripe:""},{default:a(()=>[t(o,{type:"index",align:"center",label:e.$t("table.common.index"),width:"60"},null,8,["label"]),t(o,{prop:"name",align:"center",label:e.$t("table.common.filename")},null,8,["label"]),t(o,{prop:"date",align:"center",label:e.$t("table.common.createTime")},null,8,["label"]),t(o,{align:"center",label:e.$t("table.common.operation")},{default:a(i=>[t(s,{link:"",color:"#000",onClick:u=>b("edit",i.row.name)},{default:a(()=>[r(c(e.$t("btn.edit")),1)]),_:2},1032,["onClick"]),t(s,{link:"",color:"#000",onClick:u=>b("detail",i.row.name)},{default:a(()=>[r(c(e.$t("btn.detail")),1)]),_:2},1032,["onClick"]),t(s,{link:"",color:"#000",onClick:u=>g(i.row.name)},{default:a(()=>[r(c(e.$t("btn.download")),1)]),_:2},1032,["onClick"]),t(s,{link:"",type:"danger",onClick:u=>$(i.row)},{default:a(()=>[r(c(e.$t("btn.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])])])}}});export{P as default};
